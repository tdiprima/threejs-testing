<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>How to draw spheres more than 1000000</title>
  <!-- https://discourse.threejs.org/t/how-to-draw-spheres-more-than-1000000/19731 -->
	<link href="/examples/main.css" rel="stylesheet" type="text/css">
	<style>
		body {
			background-color: #cce0ff;
			color: #000;
		}

		a {
			color: #080;
		}
	</style>
  <script src="/build/three.min.js"></script>
</head>
<body>
<script>
  let width = 500;
  let height = 400;

  let scene = new THREE.Scene();
  let camera = new THREE.PerspectiveCamera(50, width / height, 0.1, 1000);

  scene.background = 0xff0000;

  let renderer = new THREE.WebGLRenderer();
  renderer.setSize(width, height);
  document.body.appendChild(renderer.domElement);

  let r = 3;
  let segmentNum = 30;
  let geometry = new THREE.SphereBufferGeometry(r, segmentNum, segmentNum);

  /*
  let vertexNum = geometry.getAttribute("position").count;
  // console.log(vertexNum);
  let vertexColor = new Float32Array(vertexNum * 3);
  let rgbColor = [0, 0, 255]; // ?
  for (let i = 0; i < vertexNum * 3; i += 3) {
    vertexColor[i] = rgbColor[0];
    vertexColor[i + 1] = rgbColor[1];
    vertexColor[i + 2] = rgbColor[2];
  }
  // console.log(vertexColor);
  geometry.addAttribute("color", new THREE.BufferAttribute(vertexColor, 3));

  let atomColor = 0x0000ff; // ?
  let material = new THREE.MeshPhongMaterial({color: atomColor, shininess: 30});
   */

  let material = new THREE.MeshNormalMaterial();

  let mesh = new THREE.Mesh(geometry, material);
  scene.add( mesh );

  camera.position.z = 10;

  const render = function () {
    requestAnimationFrame(render);

    // mesh.rotation.y += 0.01;

    renderer.render(scene, camera);
  };

  render();

  console.log("%cthree.js rev", "color: #ccff00;", THREE.REVISION);

</script>
</body>
</html>
