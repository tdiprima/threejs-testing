<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!--Frustum and CameraHelper Demo for CS307
    Author: Scott D. Anderson
    Date: August 28, 2014
  -->
  <title>Frustum</title>
  <!-- http://cs.wellesley.edu/~cs307/threejs/demos-s21-r95/Camera/frustum.shtml.bak -->
  <link rel="stylesheet" href="/Code/frustum/cs307/js/google-code-prettify/prettify.css">

  <style>
    body {
      font-family: Blanco, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol;
      font-size: 14pt;
      min-width: 820px;
      margin: 10px;
    }

    canvas {
      display: block;
      width: 80%;
      margin: 10px auto;
    }
  </style>

  <script src="/Code/frustum/cs307/threejs/libs/three-r80.min.js"></script>
  <script src="/Code/frustum/cs307/threejs/libs/tw-fa18.js"></script>
  <script src="/Code/frustum/cs307/threejs/libs/OrbitControls-r80.js"></script>
  <script src="/Code/frustum/cs307/threejs/libs/dat.gui-r80.min.js"></script>
</head>
<body>

<script src="frustrum.js"></script>

<script id="cameraSetup">
  /**
   * setupCamera
   * This function isn't used, but it is displayed to the user.
   */
  function setupCamera() {
    // the "camera" that determines the frustum
    let cameraParams = {
      near: 10,
      far: 30,
      fov: 30, // degrees!!
      aspectRatio: 400 / 300, // usually from the dimensions of the canvas
      atX: 0,
      atY: 0,
      atZ: -20,
      eyeX: 0,
      eyeY: 0,
      eyeZ: 1,
      upX: 0,
      upY: 1,
      upZ: 0
    };

    let cp = cameraParams; // just a shorthand
    let frustumCamera = new THREE.PerspectiveCamera(cp.fov, cp.aspectRatio, cp.near, cp.far);

    // set location
    frustumCamera.position.set(cp.eyeX, cp.eyeY, cp.eyeZ);

    // Cameras inherit an "up" vector from Object3D.
    frustumCamera.up.set(cp.upX, cp.upY, cp.upZ);

    // The lookAt method computes the camera direction and orientation from its position
    // and up parameters, and the input arguments specifying the location of the 'at' point
    frustumCamera.lookAt(cp.atX, cp.atY, cp.atZ);
  }
</script>

<h1>Frustum Demo</h1>

<p>This demo displays a <em>frustum</em> whose parameters can be adjusted with
  the gui controls:

<ul>
  <li><code>fov</code> is the <em>field of view</em> that defines the angular
    extent of the scene that is visible to the camera
  <li><code>aspectRatio</code> controls the ratio of the field of view
    in the horizontal and vertical directions
  <li><code>near</code> and <code>far</code> define the range of distance
    from the camera over which the scene content is visible
    <ul>
      <li>red and green lines are drawn around the near and far planes, respectively
    </ul>
  <li><code>eyeX</code>, <code>eyeY</code>, and <code>eyeZ</code> specify the
    position of the camera (EYE location, shown by the MAGENTA ball)
  <li><code>atX</code>, <code>atY</code>, and <code>atZ</code> specify the AT
    point, where the camera is looking (shown by the CYAN ball)
  <li><code>upX</code>, <code>upY</code>, and <code>upZ</code> specify a
    vector that indicates the UP direction for the camera (shown in yellow)
</ul>

<p> In this demo, the code calculates the exact geometry, given the <code>fov</code>,
  <code>aspectRatio</code>, and other parameters.

<p>Here is the function that sets up this camera:

<pre data-code-jsfunction="setupCamera" class="prettyprint lang-js linenums"></pre>

<!--
<p>Here is how the frustum parameters are calculated:

<pre data-code-jsfunction="frustumFOV" class="prettyprint lang-js linenums">
</pre>

<p>If you're curious about how the lines of the frustum are drawn, you're
  welcome to view the code, but that involves a <code>THREE.Line</code>
  object, which we haven't learned about, because we're emphasizing 3D
  objects, rather than lines.
-->

<!-- to do:

  spin around z axis
  toggle spinning
  colors for the frustum, red, lime, blue
  -->

<div id="footer">
  <p>&copy; Scott D. Anderson<br>
    This work is licensed under a <a rel="license"
                                     href="http://creativecommons.org/licenses/by-nc-sa/1.0/">Creative Commons
      License</a> <br>
    Date Modified:
    <!--#echo var="LAST_MODIFIED" -->

</div> <!-- <div id="footer"> -->

<script src="//code.jquery.com/jquery-2.1.1.min.js"></script>
<!--
<script src="/~cs110/js/shjs-0.6/sh_main.js"></script>
<script src="/~cs110/js/shjs-0.6/lang/sh_python.js"></script>
<script src="/~cs110/js/shjs-0.6/lang/sh_javascript.js"></script>
-->
<script src="/Code/frustum/cs307/js/google-code-prettify/prettify.js"></script>
<script src="/Code/frustum/cs307/js/TOC.js"></script>
<script src="/Code/frustum/cs307/js/307.js"></script>

<script>
  addExecuteButtons();
  handle_codefrom();
  handle_code_jsfunction();
  handle_codeurl();
  prettyPrint();
  $("h2,h3").click(gohere);
  $(".code_solution").click(checkMagicWord);
  $(".code_solution > * ").hide();
  $(".code_solution").attr('data-shown', 'no');
</script>
</body>
</html>
